<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Animated Code Editor</title>
  <style>
    /* Base styles and variables */
    :root {
      --primary: #6c63ff;
      --primary-dark: #554fd8;
      --secondary: #ff6584;
      --dark: #1a1a2e;
      --darker: #0f0f1a;
      --light: #f5f5f7;
      --gray: #a0a0a0;
      --success: #4caf50;
      --warning: #ff9800;
      --danger: #f44336;
      --shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--darker), var(--dark));
      color: var(--light);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Header styles */
    header {
      background: rgba(26, 26, 46, 0.8);
      backdrop-filter: blur(10px);
      padding: 1.5rem 2rem;
      box-shadow: var(--shadow);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      animation: slideDown 0.8s ease-out;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      display: inline-block;
      position: relative;
    }

    h1::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }

    h1:hover::after {
      transform: scaleX(1);
    }

    .controls {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      align-items: center;
    }

    /* Button and select styles */
    select, button {
      padding: 0.7rem 1.2rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
      position: relative;
      overflow: hidden;
    }

    select {
      background: rgba(255, 255, 255, 0.1);
      color: var(--light);
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(5px);
    }

    select:hover {
      background: rgba(255, 255, 255, 0.15);
    }

    button {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
    }

    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(108, 99, 255, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    button::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 5px;
      height: 5px;
      background: rgba(255, 255, 255, 0.5);
      opacity: 0;
      border-radius: 100%;
      transform: scale(1, 1) translate(-50%);
      transform-origin: 50% 50%;
    }

    button:focus:not(:active)::after {
      animation: ripple 1s ease-out;
    }

    #runBtn {
      background: linear-gradient(135deg, var(--success), #3d8b40);
    }

    #saveBtn {
      background: linear-gradient(135deg, var(--warning), #e68900);
    }

    #loadBtn {
      background: linear-gradient(135deg, #2196f3, #0b7dda);
    }

    #clearBtn {
      background: linear-gradient(135deg, var(--danger), #d32f2f);
    }

    /* Main content area */
    main {
      display: flex;
      flex-wrap: wrap;
      padding: 2rem;
      gap: 2rem;
      animation: fadeIn 1s ease-out;
    }

    /* Editor styles */
    #editorWrap {
      flex: 1;
      min-width: 300px;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow);
      animation: slideInLeft 0.8s ease-out;
    }

    .editorHeader {
      background: rgba(26, 26, 46, 0.9);
      padding: 1rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .editorHeader h2 {
      font-size: 1.2rem;
      font-weight: 600;
    }

    .editorHeader .language-indicator {
      background: var(--primary);
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    #editor {
      width: 100%;
      height: 400px;
      background: #1e1e2e;
      color: #f8f8f2;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 1rem;
      line-height: 1.5;
      padding: 1.5rem;
      border: none;
      resize: vertical;
      outline: none;
      transition: var(--transition);
    }

    #editor:focus {
      box-shadow: 0 0 0 2px var(--primary);
    }

    /* Preview styles */
    #previewWrap {
      flex: 1;
      min-width: 300px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow);
      animation: slideInRight 0.8s ease-out;
    }

    .previewHeader {
      background: rgba(26, 26, 46, 0.9);
      padding: 1rem 1.5rem;
      font-size: 1.2rem;
      font-weight: 600;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .previewHeader::after {
      content: '';
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--success);
      animation: pulse 2s infinite;
    }

    #preview {
      width: 100%;
      height: 400px;
      border: none;
      background: white;
    }

    /* Footer styles */
    footer {
      text-align: center;
      padding: 1.5rem;
      background: rgba(26, 26, 46, 0.8);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      animation: slideUp 0.8s ease-out;
    }

    footer small {
      color: var(--gray);
      font-size: 0.9rem;
    }

    /* Animations */
    @keyframes slideDown {
      from {
        transform: translateY(-100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes slideInLeft {
      from {
        transform: translateX(-100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes ripple {
      0% {
        transform: scale(0, 0);
        opacity: 0.5;
      }
      100% {
        transform: scale(20, 20);
        opacity: 0;
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
      }
      70% {
        transform: scale(1);
        box-shadow: 0 0 0 10px rgba(76, 175, 80, 0);
      }
      100% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
      }
    }

    /* Responsive design */
    @media (max-width: 768px) {
      main {
        flex-direction: column;
        padding: 1rem;
      }
      
      header {
        padding: 1rem;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .controls {
        gap: 0.5rem;
      }
      
      select, button {
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
      }
    }

    /* Code syntax highlighting simulation */
    .code-line {
      margin-bottom: 0.5rem;
    }

    .code-tag {
      color: #ff79c6;
    }

    .code-attr {
      color: #50fa7b;
    }

    .code-string {
      color: #f1fa8c;
    }

    .code-comment {
      color: #6272a4;
    }
  </style>
</head>
<body>
  <header>
    <h1>Animated Code Editor</h1>
    <div class="controls">
      <select id="mode">
        <option value="html">HTML</option>
        <option value="css">CSS</option>
        <option value="javascript">JavaScript</option>
      </select>
      <button id="runBtn">Run</button>
      <button id="saveBtn">Save Local</button>
      <button id="loadBtn">Load Local</button>
      <button id="clearBtn">Clear</button>
    </div>
  </header>

  <main>
    <div id="editorWrap">
      <div class="editorHeader">
        <h2>Code Editor</h2>
        <div class="language-indicator">HTML</div>
      </div>
      <textarea id="editor" aria-label="code editor" placeholder="Start coding here...">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;My Page&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      text-align: center;
      padding: 50px;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }
    p {
      font-size: 1.2rem;
      max-width: 600px;
      margin: 0 auto;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Welcome to My Page&lt;/h1&gt;
  &lt;p&gt;This is a sample page created with the code editor. Try editing the code and see the changes in real-time!&lt;/p&gt;
  &lt;script&gt;
    console.log('Hello from the editor!');
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
    </div>

    <div id="previewWrap">
      <div class="previewHeader">Preview</div>
      <iframe id="preview" sandbox="allow-forms allow-scripts allow-same-origin"></iframe>
    </div>
  </main>

  <footer>
    <small>Built for GitHub Pages • No backend • Files stored in your browser</small>
  </footer>

  <script>
    // DOM elements
    const editor = document.getElementById('editor');
    const preview = document.getElementById('preview');
    const mode = document.getElementById('mode');
    const runBtn = document.getElementById('runBtn');
    const saveBtn = document.getElementById('saveBtn');
    const loadBtn = document.getElementById('loadBtn');
    const clearBtn = document.getElementById('clearBtn');
    const languageIndicator = document.querySelector('.language-indicator');

    // Update preview when Run button is clicked
    runBtn.addEventListener('click', updatePreview);
    
    // Update preview on editor change with debouncing
    let debounceTimer;
    editor.addEventListener('input', () => {
      clearTimeout(debounceTimer);
      debounceTimer = setTimeout(updatePreview, 500);
    });
    
    // Update language indicator when mode changes
    mode.addEventListener('change', () => {
      languageIndicator.textContent = mode.options[mode.selectedIndex].text;
      // Add animation effect
      languageIndicator.style.transform = 'scale(1.1)';
      setTimeout(() => {
        languageIndicator.style.transform = 'scale(1)';
      }, 200);
    });
    
    // Save code to localStorage
    saveBtn.addEventListener('click', () => {
      const code = editor.value;
      const currentMode = mode.value;
      localStorage.setItem(`codeEditor_${currentMode}`, code);
      
      // Show save confirmation
      const originalText = saveBtn.textContent;
      saveBtn.textContent = 'Saved!';
      saveBtn.style.background = 'linear-gradient(135deg, var(--success), #3d8b40)';
      
      setTimeout(() => {
        saveBtn.textContent = originalText;
        saveBtn.style.background = 'linear-gradient(135deg, var(--warning), #e68900)';
      }, 1500);
    });
    
    // Load code from localStorage
    loadBtn.addEventListener('click', () => {
      const currentMode = mode.value;
      const savedCode = localStorage.getItem(`codeEditor_${currentMode}`);
      
      if (savedCode) {
        editor.value = savedCode;
        updatePreview();
        
        // Show load confirmation
        const originalText = loadBtn.textContent;
        loadBtn.textContent = 'Loaded!';
        loadBtn.style.background = 'linear-gradient(135deg, var(--success), #3d8b40)';
        
        setTimeout(() => {
          loadBtn.textContent = originalText;
          loadBtn.style.background = 'linear-gradient(135deg, #2196f3, #0b7dda)';
        }, 1500);
      } else {
        // Show no data message
        const originalText = loadBtn.textContent;
        loadBtn.textContent = 'No Data!';
        loadBtn.style.background = 'linear-gradient(135deg, var(--danger), #d32f2f)';
        
        setTimeout(() => {
          loadBtn.textContent = originalText;
          loadBtn.style.background = 'linear-gradient(135deg, #2196f3, #0b7dda)';
        }, 1500);
      }
    });
    
    // Clear editor
    clearBtn.addEventListener('click', () => {
      editor.value = '';
      updatePreview();
      
      // Show clear confirmation
      const originalText = clearBtn.textContent;
      clearBtn.textContent = 'Cleared!';
      
      setTimeout(() => {
        clearBtn.textContent = originalText;
      }, 1500);
    });
    
    // Update preview function
    function updatePreview() {
      const code = editor.value;
      const currentMode = mode.value;
      
      let content = '';
      
      if (currentMode === 'html') {
        content = code;
      } else if (currentMode === 'css') {
        content = `<style>${code}</style>`;
      } else if (currentMode === 'javascript') {
        content = `<script>${code}<\/script>`;
      }
      
      // Add a simple HTML structure if needed
      if (currentMode !== 'html' && !code.includes('<html') && !code.includes('<body')) {
        content = `<html><head><title>Preview</title></head><body>${content}</body></html>`;
      }
      
      // Update the iframe
      preview.srcdoc = content;
      
      // Add run animation effect
      runBtn.style.transform = 'scale(0.95)';
      setTimeout(() => {
        runBtn.style.transform = 'scale(1)';
      }, 150);
    }
    
    // Initialize the preview
    updatePreview();
    
    // Add typing animation to the editor on page load
    window.addEventListener('load', () => {
      const originalCode = editor.value;
      editor.value = '';
      
      let i = 0;
      const typingEffect = setInterval(() => {
        if (i < originalCode.length) {
          editor.value += originalCode.charAt(i);
          i++;
          editor.scrollTop = editor.scrollHeight;
        } else {
          clearInterval(typingEffect);
        }
      }, 10);
    });
  </script>
</body>
</html>
